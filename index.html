<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rentify - –ê—Ä–µ–Ω–¥–∞ –≤–µ—â–µ–π –º–µ–∂–¥—É –ª—é–¥—å–º–∏</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo">Rentify</a>
                
                <div class="nav-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –≤–µ—â–µ–π..." id="searchInput">
                </div>
                
                <div class="nav-menu">
                    <a href="items.html">–í—Å–µ –≤–µ—â–∏</a>
                    <a href="#" onclick="openAddModal(event)">–î–æ–±–∞–≤–∏—Ç—å –≤–µ—â—å</a>
                    <a href="login.html" class="btn-login" id="loginBtn">–í–æ–π—Ç–∏</a>
                    <a href="profile.html" class="btn-login" id="profileBtn" style="display:none;">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <div class="language-switcher">
                        <button class="lang-btn" onclick="changeLanguage('kk')">üá∞üáø</button>
                        <button class="lang-btn" onclick="changeLanguage('ru')">üá∑üá∫</button>
                    </div>
                </div>
                
                <!-- Mobile language switcher (always visible) -->
                <div class="mobile-lang-switcher">
                    <button class="lang-btn" onclick="changeLanguage('kk')" title="“ö–∞–∑–∞“õ—à–∞">üá∞üáø</button>
                    <button class="lang-btn" onclick="changeLanguage('ru')" title="–†—É—Å—Å–∫–∏–π">üá∑üá∫</button>
                </div>
                
                <button class="menu-toggle" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="hero-title-main">–ê—Ä–µ–Ω–¥—É–π –Ω—É–∂–Ω—ã–µ –≤–µ—â–∏</span>
                    <span class="gradient-text">–±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ</span>
                </h1>
                <p class="hero-description">
                    –ö–æ–≥–¥–∞ –≤–µ—â–∏ –Ω—É–∂–Ω—ã –Ω–∞ –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—é –∏–ª–∏ –º–µ—Å—è—Ü ‚Äî –±–µ—Ä–∏ –≤ –∞—Ä–µ–Ω–¥—É —É –ª—é–¥–µ–π —Ä—è–¥–æ–º. –ö–∞–º–µ—Ä—ã, –Ω–æ—É—Ç–±—É–∫–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏. –ë–µ–∑–æ–ø–∞—Å–Ω–æ. –í—ã–≥–æ–¥–Ω–æ.
                </p>
                <div class="hero-buttons">
                    <a href="items.html" class="btn btn-primary">–ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫</a>
                </div>
            </div>
            
            <!-- Stats -->
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">5000+</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –≤–µ—â–µ–π</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">2000+</div>
                    <div class="stat-label">–î–æ–≤–æ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">4.8‚òÖ</div>
                    <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container">
            <div class="search-box">
                <div class="search-field">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ?" id="searchBox">
                </div>
                <div class="search-field">
                    <i class="fas fa-map-marker-alt"></i>
                    <input type="text" placeholder="–ì–æ—Ä–æ–¥" id="cityBox">
                </div>
                <button class="btn btn-primary" onclick="searchItems()">–ù–∞–π—Ç–∏</button>
            </div>
        </div>
    </section>

    <!-- Categories -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
            <div class="categories-grid">
                <a href="items.html?category=electronics" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/MkF42qPF/Computer.png" alt="–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</div>
                </a>
                <a href="items.html?category=clothing" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/239XyZL1/Clothes1.png" alt="–û–¥–µ–∂–¥–∞" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–û–¥–µ–∂–¥–∞</div>
                </a>
                <a href="items.html?category=sports" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/9HdqF5SM/sekcii-2.jpg" alt="–°–ø–æ—Ä—Ç" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–°–ø–æ—Ä—Ç</div>
                </a>
                <a href="items.html?category=auto" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/4g7XQ3YH/transport-1532-1x.png" alt="–ê–≤—Ç–æ" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–ê–≤—Ç–æ</div>   
                </a>
                <a href="items.html?category=tools" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/39VWBPV7/tekhnika-i-instrument-worx-dlya-doma-i-sada.png" alt="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
                </a>
                <a href="items.html?category=furniture" class="category-card">
                    <div class="category-icon category-image">
                        <img src="https://i.ibb.co/PdyDYzS/12cee4dc-f345-48f3-900d-14eca95ff694.jpg" alt="–ú–µ–±–µ–ª—å" style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
                    </div>
                    <div class="category-name">–ú–µ–±–µ–ª—å</div>
                </a>
            </div>
        </div>
    </section>

    <!-- Featured Items -->
    <section class="featured-items">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–µ—â–∏</h2>
                <a href="items.html" class="view-all">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ ‚Üí</a>
            </div>
            <div class="items-grid" id="featuredItems">
                <!-- Items will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="container">
            <h2 class="section-title">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –≤–µ—â—å</h3>
                    <p>–ò—â–∏—Ç–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Ü–µ–Ω–µ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-credit-card"></i>
                    </div>
                    <h3>–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ</h3>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã –∞—Ä–µ–Ω–¥—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>–ü–æ–ª—É—á–∏—Ç–µ –≤–µ—â—å</h3>
                    <p>–í—Å—Ç—Ä–µ—Ç—å—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ –∑–∞–±–µ—Ä–∏—Ç–µ –≤–µ—â—å –≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è</p>
                </div>
                <div class="step">
                    <div class="step-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤</h3>
                    <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º –∏ –ø–æ–º–æ–≥–∏—Ç–µ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials">
        <div class="container">
            <h2 class="section-title">–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
            <div class="testimonials-grid">
                <div class="testimonial">
                    <div class="testimonial-header">
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #0ea5e9, #9333ea); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold;">–ê</div>
                        <div>
                            <div class="testimonial-name">–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤</div>
                            <div class="testimonial-role">–ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å</div>
                        </div>
                    </div>
                    <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="testimonial-text">–û—Ç–ª–∏—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞! –ó–∞ –º–µ—Å—è—Ü –∑–∞—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –∞—Ä–µ–Ω–¥–µ —Å–≤–æ–µ–π –∫–∞–º–µ—Ä—ã –±–æ–ª—å—à–µ, —á–µ–º –ø–æ—Ç—Ä–∞—Ç–∏–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É.</p>
                </div>
                <div class="testimonial">
                    <div class="testimonial-header">
                        <div class="testimonial-avatar" style="background: linear-gradient(135deg, #ec4899, #f59e0b); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold;">–ú</div>
                        <div>
                            <div class="testimonial-name">–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞</div>
                            <div class="testimonial-role">–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä</div>
                        </div>
                    </div>
                    <div class="testimonial-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="testimonial-text">–ê—Ä–µ–Ω–¥—É—é –≤–µ–ª–æ—Å–∏–ø–µ–¥ –∫–∞–∂–¥—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ. –ù–∞–º–Ω–æ–≥–æ –¥–µ—à–µ–≤–ª–µ, —á–µ–º –ø–æ–∫—É–ø–∞—Ç—å —Å–≤–æ–π!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo-section">
                    <h2 class="footer-logo">Rentify.kz</h2>
                    <p class="footer-tagline">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∞—Ä–µ–Ω–¥—ã –≤–µ—â–µ–π</p>
                </div>
                <div class="footer-links">
                    <div class="footer-section">
                        <h4>–ü—Ä–æ–¥—É–∫—Ç—ã Rentify.kz</h4>
                        <a href="items.html?category=electronics">–ê—Ä–µ–Ω–¥–∞ —Ç–µ—Ö–Ω–∏–∫–∏</a>
                        <a href="items.html?category=transport">–ê—Ä–µ–Ω–¥–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a>
                        <a href="items.html?category=tools">–ê—Ä–µ–Ω–¥–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</a>
                        <a href="items.html?category=sport">–°–ø–æ—Ä—Ç–∏–≤–Ω–æ–µ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</a>
                        <a href="items.html?category=home">–¢–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ–º–∞</a>
                        <a href="items.html?category=clothing">–û–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã</a>
                        <a href="items.html?category=kids">–î–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã</a>
                        <a href="items.html?category=party">–¢–æ–≤–∞—Ä—ã –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤</a>
                    </div>
                    <div class="footer-section">
                        <h4>–°–µ—Ä–≤–∏—Å—ã Rentify.kz</h4>
                        <a href="items.html">–ö–∞—Ç–∞–ª–æ–≥</a>
                        <a href="#" onclick="openInfoModal('delivery', event)">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                        <a href="#" onclick="openInfoModal('insurance', event)">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</a>
                        <a href="#" onclick="openInfoModal('guarantee', event)">–ì–∞—Ä–∞–Ω—Ç–∏—è</a>
                        <a href="#" onclick="openInfoModal('support', event)">–ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                    </div>
                    <div class="footer-section">
                        <h4>–ö–æ–º–ø–∞–Ω–∏—è</h4>
                        <a href="#" onclick="openInfoModal('about', event)">–û –Ω–∞—Å</a>
                        <a href="#" onclick="openInfoModal('rules', event)">–ü—Ä–∞–≤–∏–ª–∞ –∞—Ä–µ–Ω–¥—ã</a>
                        <a href="#" onclick="openInfoModal('contacts', event)">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                        <a href="#" onclick="openInfoModal('faq', event)">–ë–ª–æ–≥ / FAQ</a>
                        <a href="#" onclick="openInfoModal('partnership', event)">–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-social">
                <a href="#" class="social-link" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" class="social-link" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
                <a href="#" class="social-link" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            </div>
            
            <div class="footer-bottom">
                <p>¬© 2025 Rentify.kz ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã ‚Ä¢ support@rentify.kz ‚Ä¢ +7 (747) 200-70-77</p>
            </div>
        </div>
    </footer>

    <!-- Add listing modal -->
    <div id="add-overlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); align-items:center; justify-content:center; z-index:10000;">
        <div style="background:#fff; width:520px; border-radius:12px; padding:20px; box-shadow:0 20px 60px rgba(0,0,0,0.25);">
            <h2 style="margin-top:0; text-align:center;">–°–¥–∞—Ç—å –≤–µ—â—å –≤ –∞—Ä–µ–Ω–¥—É</h2>
            <div style="margin-bottom:8px;">
                <label style="display:block; font-weight:600; margin-bottom:6px;">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–µ—â–∏</label>
                <input id="item-title" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–µ–∫—Ç–æ—Ä" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;">
            </div>
            <div style="margin-bottom:8px;">
                <label style="display:block; font-weight:600; margin-bottom:6px;">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea id="item-desc" placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb; height:90px;"></textarea>
            </div>
            <div style="display:flex; gap:8px; margin-bottom:8px;">
                <div style="flex:1;">
                    <label style="display:block; font-weight:600; margin-bottom:6px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="item-category" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        <option value="electronics">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                        <option value="clothing">–û–¥–µ–∂–¥–∞</option>
                        <option value="sports">–°–ø–æ—Ä—Ç</option>
                        <option value="auto">–ê–≤—Ç–æ</option>
                        <option value="tools">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</option>
                        <option value="furniture">–ú–µ–±–µ–ª—å</option>
                    </select>
                </div>
                <div style="flex:1;">
                    <label style="display:block; font-weight:600; margin-bottom:6px;">–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="item-subcategory" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;" disabled>
                        <option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                    </select>
                </div>
            </div>
            <div style="display:flex; gap:8px; margin-bottom:8px;">
                <div style="flex:1;">
                    <label style="display:block; font-weight:600; margin-bottom:6px;">–¶–µ–Ω–∞ (–≤ —Ç–µ–Ω–≥–µ / —Å—É—Ç–∫–∏)</label>
                    <input id="item-price" type="number" min="0" placeholder="1000" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;">
                </div>
                <div style="flex:1;">
                    <label style="display:block; font-weight:600; margin-bottom:6px;">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input id="item-phone" type="tel" placeholder="7011234567" maxlength="10" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;" oninput="this.value=this.value.replace(/[^0-9]/g,'')">
                </div>
            </div>
            <div style="margin-bottom:8px;">
                <label style="display:block; font-weight:600; margin-bottom:6px;">–ê–¥—Ä–µ—Å / –ì–æ—Ä–æ–¥</label>
                <input id="item-address" type="text" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, —Ä–∞–π–æ–Ω" style="width:100%; padding:10px; border-radius:8px; border:1px solid #e5e7eb;">
            </div>
            <div style="margin-bottom:8px;">
                <label style="display:block; font-weight:600; margin-bottom:6px;">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (1 –¥–æ 5 —à—Ç—É–∫)</label>
                <input id="item-images" type="file" accept="image/*" multiple style="display:none;">
                <button type="button" onclick="document.getElementById('item-images').click()" style="width:100%; padding:12px; border-radius:8px; background:#f3f4f6; border:2px dashed #d1d5db; cursor:pointer; color:#6b7280; font-weight:600; transition: all 0.2s;">
                    üì∑ –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                </button>
                <div id="preview-container" style="display:flex; gap:8px; margin-top:8px; flex-wrap:wrap;"></div>
                <small style="color:#6b7280; display:block; margin-top:6px;">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ—Ç 1 –¥–æ 5 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ ‚Äî –æ–Ω–∏ –ø–æ–º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏–≤–ª–µ—á—å –≤–Ω–∏–º–∞–Ω–∏–µ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤.</small>
            </div>
            <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px;">
                <button id="add-cancel" style="padding:10px 14px; border-radius:8px; background:#f3f4f6; border:none; cursor:pointer;">–û—Ç–º–µ–Ω–∞</button>
                <button id="add-save" style="padding:10px 14px; border-radius:8px; background:#4f46e5; color:#fff; border:none; cursor:pointer;">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div id="itemDetailModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; overflow-y:auto;">
        <div style="max-width:800px; margin:2rem auto; background:white; border-radius:12px; position:relative; padding:2rem;">
            <button id="closeDetailModal" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:2rem; cursor:pointer; color:#999;">&times;</button>
            <div id="itemDetailContent">
                <!-- Content will be loaded by JS -->
            </div>
            <button id="contactOwnerBtn" class="btn btn-primary" style="width:100%; margin-top:1.5rem; padding:1rem; font-size:1.1rem;">
                <i class="fas fa-comment-dots"></i> –ù–∞–ø–∏—Å–∞—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü—É
            </button>
        </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1001;">
        <div style="max-width:500px; margin:2rem auto; background:white; border-radius:12px; position:relative; height:600px; display:flex; flex-direction:column;">
            <!-- Chat Header -->
            <div style="padding:1rem; border-bottom:1px solid #e5e7eb; display:flex; justify-content:space-between; align-items:center;">
                <div>
                    <h3 id="chatOwnerName" style="margin:0; font-size:1.1rem;">–ß–∞—Ç —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º</h3>
                    <p id="chatItemName" style="margin:0.25rem 0 0 0; font-size:0.85rem; color:#6b7280;"></p>
                </div>
                <button id="closeChatModal" style="background:none; border:none; font-size:2rem; cursor:pointer; color:#999;">&times;</button>
            </div>

            <!-- Chat Messages -->
            <div id="chatMessages" style="flex:1; padding:1rem; overflow-y:auto; background:#f9fafb;">
                <!-- Messages will be loaded here -->
            </div>

            <!-- Chat Input -->
            <div style="padding:1rem; border-top:1px solid #e5e7eb; background:white;">
                <div style="display:flex; gap:0.5rem;">
                    <input type="text" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="flex:1; padding:0.75rem; border:1px solid #e5e7eb; border-radius:8px;">
                    <button id="sendMessageBtn" class="btn btn-primary" style="padding:0.75rem 1.5rem;">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- All Messages Modal -->
    <div id="messagesModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1001;">
        <div style="max-width:700px; margin:2rem auto; background:white; border-radius:12px; position:relative; height:80vh; display:flex; flex-direction:column;">
            <!-- Header -->
            <div style="padding:1.5rem; border-bottom:1px solid #e5e7eb; display:flex; justify-content:space-between; align-items:center;">
                <h3 style="margin:0; font-size:1.3rem;">–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h3>
                <button id="closeMessagesModal" style="background:none; border:none; font-size:2rem; cursor:pointer; color:#999;">&times;</button>
            </div>

            <!-- Chats List -->
            <div id="chatsList" style="flex:1; overflow-y:auto; padding:1rem;">
                <!-- Chats will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Info Modal (About, Rules, Contacts, FAQ, Partnership) -->
    <div id="infoModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:2000; overflow-y:auto;">
        <div style="max-width:700px; margin:3rem auto; background:white; border-radius:12px; position:relative; padding:2.5rem;">
            <button id="closeInfoModal" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:2rem; cursor:pointer; color:#999;">&times;</button>
            <div id="infoModalContent">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>

    <script src="js/firebase-config.js"></script>
    <script src="js/firebase-db.js"></script>
    <script src="js/notifications.js"></script>
    <script src="./js/main.js"></script>
    <script src="js/language.js"></script>
    <script>
        // Add listing modal logic with image upload (up to 5 images)
        (function(){
            // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Ç–∞ –∂–µ —á—Ç–æ –≤ items.html)
            const subcategories = {
                electronics: [
                    { value: 'phones', label: '–¢–µ–ª–µ—Ñ–æ–Ω—ã' },
                    { value: 'computers', label: '–ö–æ–º–ø—å—é—Ç–µ—Ä—ã' },
                    { value: 'cameras', label: '–ö–∞–º–µ—Ä—ã' },
                    { value: 'audio', label: '–ê—É–¥–∏–æ' },
                    { value: 'tv', label: '–¢–í –∏ –≤–∏–¥–µ–æ' }
                ],
                clothing: [
                    { value: 'men', label: '–ú—É–∂—Å–∫–∞—è' },
                    { value: 'women', label: '–ñ–µ–Ω—Å–∫–∞—è' },
                    { value: 'kids', label: '–î–µ—Ç—Å–∫–∞—è' },
                    { value: 'accessories', label: '–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã' }
                ],
                sports: [
                    { value: 'fitness', label: '–§–∏—Ç–Ω–µ—Å' },
                    { value: 'bicycles', label: '–í–µ–ª–æ—Å–∏–ø–µ–¥—ã' },
                    { value: 'winter', label: '–ó–∏–º–Ω–∏–π —Å–ø–æ—Ä—Ç' },
                    { value: 'water', label: '–í–æ–¥–Ω—ã–π —Å–ø–æ—Ä—Ç' },
                    { value: 'camping', label: '–¢—É—Ä–∏–∑–º' }
                ],
                auto: [
                    { value: 'cars', label: '–ê–≤—Ç–æ–º–æ–±–∏–ª–∏' },
                    { value: 'motorcycles', label: '–ú–æ—Ç–æ—Ü–∏–∫–ª—ã' },
                    { value: 'scooters', label: '–°–∫—É—Ç–µ—Ä—ã' },
                    { value: 'accessories', label: '–ê–≤—Ç–æ–∞–∫—Å–µ—Å—Å—É–∞—Ä—ã' }
                ],
                tools: [
                    { value: 'power', label: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç' },
                    { value: 'hand', label: '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç' },
                    { value: 'garden', label: '–°–∞–¥–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞' },
                    { value: 'construction', label: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ' }
                ],
                furniture: [
                    { value: 'living', label: '–ì–æ—Å—Ç–∏–Ω–∞—è' },
                    { value: 'bedroom', label: '–°–ø–∞–ª—å–Ω—è' },
                    { value: 'office', label: '–û—Ñ–∏—Å–Ω–∞—è' },
                    { value: 'outdoor', label: '–£–ª–∏—á–Ω–∞—è' }
                ]
            };

            const overlay = document.getElementById('add-overlay');
            const categorySelect = document.getElementById('item-category');
            const subcategorySelect = document.getElementById('item-subcategory');
            const imageInput = document.getElementById('item-images');
            const previewContainer = document.getElementById('preview-container');
            let selectedImages = [];

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤
            imageInput.addEventListener('change', function(e) {
                const files = Array.from(e.target.files);
                
                if (files.length + selectedImages.length > 5) {
                    alert('–ú–∞–∫—Å–∏–º—É–º 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π');
                    return;
                }

                files.forEach(file => {
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            selectedImages.push(event.target.result);
                            renderPreviews();
                        };
                        reader.readAsDataURL(file);
                    }
                });
            });

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é
            function renderPreviews() {
                previewContainer.innerHTML = '';
                selectedImages.forEach((src, index) => {
                    const box = document.createElement('div');
                    box.style.cssText = 'position:relative; width:80px; height:80px; border-radius:8px; overflow:hidden; border:2px solid #e5e7eb;';
                    
                    const img = document.createElement('img');
                    img.src = src;
                    img.style.cssText = 'width:100%; height:100%; object-fit:cover;';
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.innerHTML = '‚úï';
                    removeBtn.style.cssText = 'position:absolute; top:4px; right:4px; width:20px; height:20px; border-radius:50%; background:#ef4444; color:#fff; border:none; cursor:pointer; font-size:12px; line-height:1;';
                    removeBtn.onclick = function() {
                        selectedImages.splice(index, 1);
                        renderPreviews();
                    };
                    
                    box.appendChild(img);
                    box.appendChild(removeBtn);
                    previewContainer.appendChild(box);
                });
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            categorySelect.addEventListener('change', function() {
                const selectedCategory = this.value;
                
                if (selectedCategory && subcategories[selectedCategory]) {
                    subcategorySelect.disabled = false;
                    subcategorySelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>';
                    
                    subcategories[selectedCategory].forEach(sub => {
                        const option = document.createElement('option');
                        option.value = sub.value;
                        option.textContent = sub.label;
                        subcategorySelect.appendChild(option);
                    });
                } else {
                    subcategorySelect.disabled = true;
                    subcategorySelect.innerHTML = '<option value="">–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>';
                }
            });

            window.openAddModal = function(e){ if(e) e.preventDefault(); overlay.style.display='flex';
                // prefill address from saved location if available
                try{ const s = localStorage.getItem('user_location'); if(s){ const obj = JSON.parse(s); const addr = obj.city || obj.address || ''; if(addr) document.getElementById('item-address').value = addr; } }catch(e){}
            };

            const cancel = document.getElementById('add-cancel');
            const save = document.getElementById('add-save');

            cancel && cancel.addEventListener('click', ()=>{ 
                overlay.style.display='none'; 
                selectedImages = []; 
                previewContainer.innerHTML = '';
                imageInput.value = '';
            });

            save && save.addEventListener('click', ()=>{
                const title = (document.getElementById('item-title')||{}).value.trim();
                const desc = (document.getElementById('item-desc')||{}).value.trim();
                const category = (document.getElementById('item-category')||{}).value.trim();
                const subcategory = (document.getElementById('item-subcategory')||{}).value.trim();
                const price = (document.getElementById('item-price')||{}).value.trim();
                const phone = (document.getElementById('item-phone')||{}).value.trim();
                const address = (document.getElementById('item-address')||{}).value.trim();

                if(!title){ alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—â–∏'); document.getElementById('item-title').focus(); return; }
                if(!desc){ alert('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ'); document.getElementById('item-desc').focus(); return; }
                if(!category){ alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é'); document.getElementById('item-category').focus(); return; }
                if(!subcategory){ alert('–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é'); document.getElementById('item-subcategory').focus(); return; }
                if(!price || isNaN(price) || Number(price) <= 0){ alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–Ω—É'); document.getElementById('item-price').focus(); return; }
                if(!/^\d{10}$/.test(phone)){ alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π 10-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞'); document.getElementById('item-phone').focus(); return; }
                if(!address){ alert('–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∏–ª–∏ –≥–æ—Ä–æ–¥'); document.getElementById('item-address').focus(); return; }
                if(selectedImages.length === 0){ alert('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ñ–æ—Ç–æ'); return; }

                const images = selectedImages.slice(0,5);

                // Get current user info
                const currentUser = JSON.parse(sessionStorage.getItem('currentUser') || '{}');

                const listing = {
                    id: 'l_' + Date.now(),
                    name: title,
                    title, 
                    description: desc,
                    desc, 
                    category, 
                    subcategory, 
                    price: Number(price), 
                    ownerPhone: '+7' + phone.replace(/\D/g,''), 
                    phone: '+7' + phone.replace(/\D/g,''),
                    ownerName: currentUser.name || '–ê–Ω–æ–Ω–∏–º',
                    city: address,
                    address,
                    images, 
                    created: Date.now(),
                    rating: 5.0,
                    reviews: 0
                };

                try{
                    // Save to mockItems for compatibility
                    const mockItems = JSON.parse(localStorage.getItem('mockItems')) || [];
                    mockItems.unshift(listing);
                    localStorage.setItem('mockItems', JSON.stringify(mockItems));
                    
                    // Also save to listings
                    const raw = localStorage.getItem('listings');
                    const arr = raw ? JSON.parse(raw) : [];
                    arr.unshift(listing);
                    localStorage.setItem('listings', JSON.stringify(arr));
                }catch(e){ alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏.'); console.error(e); return; }

                // Show success notification
                if (typeof showNotification === 'function') {
                    showNotification('–í–∞—à–∞ –≤–µ—â—å —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!', 'success');
                } else {
                    alert('–í–∞—à–∞ –≤–µ—â—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!');
                }
                
                overlay.style.display='none';
                selectedImages = []; 
                previewContainer.innerHTML = '';
                imageInput.value = '';
                document.getElementById('item-title').value = '';
                document.getElementById('item-desc').value = '';
                document.getElementById('item-category').value = '';
                document.getElementById('item-subcategory').value = '';
                document.getElementById('item-price').value = '';
                document.getElementById('item-phone').value = '';
                window.location.href = 'items.html';
            });
        })();

        // === ALL MESSAGES MODAL ===
        window.openMessagesModal = function(e) {
            if (e) e.preventDefault();
            
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            if (!currentUser) {
                if (typeof showNotification === 'function') {
                    showNotification('–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π', 'warning');
                }
                window.location.href = 'login.html';
                return;
            }

            loadAllChats();
            document.getElementById('messagesModal').style.display = 'block';
        };

        function loadAllChats() {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            const chats = JSON.parse(localStorage.getItem('chats') || '{}');
            const readMessages = JSON.parse(localStorage.getItem('readMessages') || '{}');
            const chatsList = document.getElementById('chatsList');

            const userChats = Object.keys(chats).filter(key => {
                const chat = chats[key];
                return chat.renterPhone === currentUser.phone || chat.ownerPhone === currentUser.phone;
            });

            if (userChats.length === 0) {
                chatsList.innerHTML = `
                    <div style="text-align:center; padding:3rem; color:#6b7280;">
                        <i class="fas fa-inbox" style="font-size:4rem; margin-bottom:1rem; opacity:0.3;"></i>
                        <p style="font-size:1.1rem;">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                    </div>
                `;
                return;
            }

            chatsList.innerHTML = userChats.map(chatKey => {
                const chat = chats[chatKey];
                const lastMessage = chat.messages && chat.messages.length > 0 
                    ? chat.messages[chat.messages.length - 1] 
                    : null;
                
                const lastReadIndex = readMessages[chatKey] || -1;
                const unreadCount = chat.messages 
                    ? chat.messages.filter((msg, index) => 
                        index > lastReadIndex && msg.sender !== currentUser.phone
                      ).length 
                    : 0;

                return `
                    <div onclick="openChatFromList('${chatKey}')" style="padding:1rem; border-bottom:1px solid #e5e7eb; cursor:pointer; transition:background 0.2s; display:flex; justify-content:space-between; align-items:center;" onmouseenter="this.style.background='#f9fafb'" onmouseleave="this.style.background='white'">
                        <div style="flex:1;">
                            <div style="font-weight:600; margin-bottom:0.25rem; display:flex; align-items:center; gap:0.5rem;">
                                ${chat.itemName}
                                ${unreadCount > 0 ? `<span style="background:#ef4444; color:white; font-size:11px; padding:2px 6px; border-radius:10px;">${unreadCount}</span>` : ''}
                            </div>
                            <div style="color:#6b7280; font-size:0.9rem;">
                                ${lastMessage ? lastMessage.message.substring(0, 50) + (lastMessage.message.length > 50 ? '...' : '') : '–ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π'}
                            </div>
                        </div>
                        <div style="color:#9ca3af; font-size:0.85rem;">
                            ${lastMessage ? new Date(lastMessage.timestamp).toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'}) : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        window.openChatFromList = function(chatKey) {
            const chats = JSON.parse(localStorage.getItem('chats') || '{}');
            const chat = chats[chatKey];
            
            if (!chat) return;

            // Get item
            const items = JSON.parse(localStorage.getItem('mockItems')) || [];
            const item = items.find(i => i.id === chat.itemId);
            
            if (item && typeof openItemDetail === 'function') {
                document.getElementById('messagesModal').style.display = 'none';
                openItemDetail(item.id);
                setTimeout(() => {
                    document.getElementById('contactOwnerBtn').click();
                }, 100);
            }
        };

        document.getElementById('closeMessagesModal')?.addEventListener('click', function() {
            document.getElementById('messagesModal').style.display = 'none';
        });

        // === CHAT FUNCTIONALITY FOR INDEX.HTML ===
        (function(){
            let currentChatItem = null;

            // Open item detail modal
            window.openItemDetail = function(itemId) {
                const items = JSON.parse(localStorage.getItem('mockItems')) || [];
                const item = items.find(i => i.id === itemId);
                if (!item) return;

                currentChatItem = item;
                
                const modal = document.getElementById('itemDetailModal');
                const content = document.getElementById('itemDetailContent');
                
                let imagesHtml = '';
                if (item.images && item.images.length > 0) {
                    imagesHtml = `
                        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:0.5rem; margin-bottom:1.5rem;">
                            ${item.images.map(img => `<img src="${img}" style="width:100%; height:150px; object-fit:cover; border-radius:8px;">`).join('')}
                        </div>
                    `;
                } else if (item.image) {
                    imagesHtml = `<img src="${item.image}" style="width:100%; height:300px; object-fit:cover; border-radius:8px; margin-bottom:1.5rem;">`;
                }
                
                content.innerHTML = `
                    ${imagesHtml}
                    <h2 style="margin-bottom:1rem;">${item.name || item.title}</h2>
                    <p style="color:#6b7280; margin-bottom:1rem;">${item.description || item.desc || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'}</p>
                    <div style="display:flex; gap:1rem; margin-bottom:1rem; flex-wrap:wrap;">
                        <div style="background:#f9fafb; padding:1rem; border-radius:8px; flex:1; min-width:150px;">
                            <div style="color:#6b7280; font-size:0.85rem;">–¶–µ–Ω–∞</div>
                            <div style="font-size:1.5rem; font-weight:bold; color:#4f46e5;">${item.price}‚Ç∏/–¥–µ–Ω—å</div>
                        </div>
                        <div style="background:#f9fafb; padding:1rem; border-radius:8px; flex:1; min-width:150px;">
                            <div style="color:#6b7280; font-size:0.85rem;">–í–ª–∞–¥–µ–ª–µ—Ü</div>
                            <div style="font-size:1.1rem; font-weight:600;">${item.ownerName || '–ê–Ω–æ–Ω–∏–º'}</div>
                        </div>
                    </div>
                `;
                
                modal.style.display = 'block';
            };

            // Close item detail modal
            const closeBtn = document.getElementById('closeDetailModal');
            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    document.getElementById('itemDetailModal').style.display = 'none';
                });
            }

            // Open chat modal
            const contactBtn = document.getElementById('contactOwnerBtn');
            if (contactBtn) {
                contactBtn.addEventListener('click', function() {
                    if (!currentChatItem) return;

                    const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
                    if (!currentUser) {
                        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü—É');
                        window.location.href = 'login.html';
                        return;
                    }

                    // Initialize chat
                    document.getElementById('chatOwnerName').textContent = `–ß–∞—Ç —Å ${currentChatItem.ownerName || '–≤–ª–∞–¥–µ–ª—å—Ü–µ–º'}`;
                    document.getElementById('chatItemName').textContent = currentChatItem.name || currentChatItem.title;
                    
                    // Load messages
                    loadChatMessages(currentChatItem.id);
                    
                    // Open chat modal
                    document.getElementById('chatModal').style.display = 'block';
                    document.getElementById('itemDetailModal').style.display = 'none';
                });
            }

            // Close chat modal
            const closeChatBtn = document.getElementById('closeChatModal');
            if (closeChatBtn) {
                closeChatBtn.addEventListener('click', function() {
                    document.getElementById('chatModal').style.display = 'none';
                });
            }

            // Send message
            function sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                if (!message || !currentChatItem) return;

                const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
                if (!currentUser) return;

                // Get all chats from localStorage
                let chats = JSON.parse(localStorage.getItem('chats')) || {};
                const chatKey = `${currentChatItem.id}_${currentUser.phone}`;
                
                if (!chats[chatKey]) {
                    chats[chatKey] = {
                        itemId: currentChatItem.id,
                        itemName: currentChatItem.name || currentChatItem.title,
                        ownerPhone: currentChatItem.ownerPhone || currentChatItem.phone,
                        renterPhone: currentUser.phone,
                        messages: []
                    };
                }

                // Add message
                chats[chatKey].messages.push({
                    sender: currentUser.phone,
                    senderName: currentUser.name,
                    message: message,
                    timestamp: new Date().toISOString()
                });

                // Save to localStorage
                localStorage.setItem('chats', JSON.stringify(chats));

                // Show notification
                if (typeof showNotification === 'function') {
                    showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success', 2000);
                }

                // Clear input
                input.value = '';

                // Reload messages
                loadChatMessages(currentChatItem.id);
                
                // Update message badge
                if (typeof updateMessageBadge === 'function') {
                    updateMessageBadge(getUnreadMessagesCount());
                }
            }

            // Load chat messages
            function loadChatMessages(itemId) {
                const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
                if (!currentUser) return;

                const chats = JSON.parse(localStorage.getItem('chats')) || {};
                const chatKey = `${itemId}_${currentUser.phone}`;
                const chat = chats[chatKey];

                const messagesContainer = document.getElementById('chatMessages');
                
                if (!chat || !chat.messages || chat.messages.length === 0) {
                    messagesContainer.innerHTML = `
                        <div style="text-align:center; color:#6b7280; padding:2rem;">
                            <i class="fas fa-comment-slash" style="font-size:3rem; margin-bottom:1rem; opacity:0.3;"></i>
                            <p>–ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º</p>
                        </div>
                    `;
                    return;
                }

                messagesContainer.innerHTML = chat.messages.map(msg => {
                    const isMyMessage = msg.sender === currentUser.phone;
                    return `
                        <div style="margin-bottom:1rem; display:flex; justify-content:${isMyMessage ? 'flex-end' : 'flex-start'};">
                            <div style="max-width:70%; background:${isMyMessage ? '#4f46e5' : '#fff'}; color:${isMyMessage ? '#fff' : '#111'}; padding:0.75rem 1rem; border-radius:12px; ${isMyMessage ? '' : 'border:1px solid #e5e7eb;'}">
                                <div style="font-weight:600; font-size:0.85rem; margin-bottom:0.25rem; opacity:0.8;">${msg.senderName}</div>
                                <div>${msg.message}</div>
                                <div style="font-size:0.75rem; margin-top:0.25rem; opacity:0.6;">${new Date(msg.timestamp).toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'})}</div>
                            </div>
                        </div>
                    `;
                }).join('');

                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            // Send message on button click
            const sendBtn = document.getElementById('sendMessageBtn');
            if (sendBtn) {
                sendBtn.addEventListener('click', sendMessage);
            }

            // Send message on Enter key
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            // Close modals on background click
            const itemModal = document.getElementById('itemDetailModal');
            if (itemModal) {
                itemModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            }

            const chatModal = document.getElementById('chatModal');
            if (chatModal) {
                chatModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            }
        })();

        // Info Modal functionality
        const infoContent = {
            about: {
                title: '–û –Ω–∞—Å',
                text: 'Rentify ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—Ä–µ–Ω–¥—ã –≤–µ—â–µ–π. –ú—ã —Å–æ–∑–¥–∞—ë–º —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –æ–±–º–µ–Ω —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ø—Ä–æ—Å—Ç—ã–º, —á–µ—Å—Ç–Ω—ã–º –∏ –≤—ã–≥–æ–¥–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.'
            },
            rules: {
                title: '–ü—Ä–∞–≤–∏–ª–∞ –∞—Ä–µ–Ω–¥—ã',
                text: '–ü–æ–¥—Ä–æ–±–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞: –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–æ—Ä–æ–Ω, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã —á–µ—Å—Ç–Ω–æ–π –∞—Ä–µ–Ω–¥—ã. –í—Å—ë —è—Å–Ω–æ, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –∏ –ø–æ –¥–µ–ª—É.'
            },
            contacts: {
                title: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
                text: '–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏. –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º, –∏ –º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–º–æ–∂–µ–º.<br><br>üìß Email: support@rentify.kz<br>üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 (747) 200-70-77<br>üìç –ê–¥—Ä–µ—Å: –≥. –ê–ª–º–∞—Ç—ã, —É–ª. –ê–±–∞—è 150'
            },
            faq: {
                title: '–ë–ª–æ–≥ / FAQ',
                text: '–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞—Ç—å–∏, –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–≤–µ—Ç—ã –ø–æ –∞—Ä–µ–Ω–¥–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π –∏ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤.'
            },
            partnership: {
                title: '–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ',
                text: '–°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Rentify. –ú—ã –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤.<br><br>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞: partnership@rentify.kz'
            },
            delivery: {
                title: '–î–æ—Å—Ç–∞–≤–∫–∞',
                text: '–£–¥–æ–±–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—â–µ–π –ø–æ –≤—Å–µ–º—É –≥–æ—Ä–æ–¥—É. –ú—ã –ø—Ä–∏–≤–µ–∑—ë–º —Ç–æ–≤–∞—Ä –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –∏ –∑–∞–±–µ—Ä—ë–º –µ–≥–æ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞ –∞—Ä–µ–Ω–¥—ã.<br><br>üöö –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ<br>‚è± –î–æ—Å—Ç–∞–≤–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 2-4 —á–∞—Å–æ–≤<br>üì¶ –ë–µ—Ä–µ–∂–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞'
            },
            insurance: {
                title: '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ',
                text: '<strong>–ó–∞—â–∏—Ç–∞ –≤–∞—à–µ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤–æ –≤—Ä–µ–º—è –∞—Ä–µ–Ω–¥—ã</strong><br><br><strong>–ü–æ–∫—Ä—ã—Ç–∏–µ:</strong><br>‚Ä¢ –ü–æ–ª–æ–º–∫–∞ —Ç–æ–≤–∞—Ä–∞<br>‚Ä¢ –ö—Ä–∞–∂–∞ –∏–ª–∏ —É—Ç–µ—Ä—è<br>‚Ä¢ –°–ª—É—á–∞–π–Ω–æ–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ<br>‚Ä¢ –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è<br><br><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong><br>–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–∞ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã –∏–ª–∏ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (5-10% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–∞).<br><br><strong>–£—Å–ª–æ–≤–∏—è:</strong><br>–í —Å–ª—É—á–∞–µ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ —Å–ª—É—á–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:<br>1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏<br>2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π<br>3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–∫—Ç –æ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–∏<br>4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ø—Ä–∏ –∫—Ä–∞–∂–µ - —Å–ø—Ä–∞–≤–∫–∞ –∏–∑ –ø–æ–ª–∏—Ü–∏–∏)<br><br><strong>–§—Ä–∞–Ω—à–∏–∑–∞:</strong><br>–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞ —Ñ—Ä–∞–Ω—à–∏–∑–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 10-20% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–µ–º–æ–Ω—Ç–∞. –≠—Ç—É —Å—É–º–º—É –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.'
            },
            guarantee: {
                title: '–ì–∞—Ä–∞–Ω—Ç–∏—è',
                text: '<strong>–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</strong><br><br><strong>–†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:</strong><br>–ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –±—É–¥—É—Ç –≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä—É. –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –ø–µ—Ä–µ–¥ –∞—Ä–µ–Ω–¥–æ–π.<br><br><strong>–°–ª—É—á–∞–∏ –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:</strong><br>–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä —Å–ª–æ–º–∞–ª—Å—è –Ω–µ –ø–æ –≤–∏–Ω–µ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞:<br>‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∑–∞–º–µ–Ω–∞ –Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ç–æ–≤–∞—Ä<br>‚Ä¢ –°—Ä–æ—á–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –∑–∞ —Å—á—ë—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞<br>‚Ä¢ –ü–æ–ª–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ –∑–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥<br>‚Ä¢ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ—É–¥–æ–±—Å—Ç–≤<br><br><strong>–°—Ä–æ–∫–∏:</strong><br>–ì–∞—Ä–∞–Ω—Ç–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ –∞—Ä–µ–Ω–¥—ã. –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –≤—ã—à–µ–ª –∏–∑ —Å—Ç—Ä–æ—è –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º, –≤—ã –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –∏–ª–∏ –∑–∞–º–µ–Ω—É.<br><br><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏—è:</strong><br>–ì–∞—Ä–∞–Ω—Ç–∏—è –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–ª—É—á–∞–∏:<br>‚Ä¢ –ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏<br>‚Ä¢ –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –ø–æ –≤–∏–Ω–µ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞<br>‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –Ω–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é<br>‚Ä¢ –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è'
            },
            support: {
                title: '–ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
                text: '<strong>–ú—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å –≤–∞–º!</strong><br><br><strong>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ):</strong><br><br><strong>–ö–∞–∫ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –≤–µ—â—å?</strong><br>–ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ç–æ–≤–∞—Ä, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ –≤—Å—Ç—Ä–µ—á–µ.<br><br><strong>–ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–ø–ª–∞—Ç–∞?</strong><br>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞–ª–∏—á–Ω—ã–º–∏ –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º –ø—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É - –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.<br><br><strong>–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –ø–æ–≤—Ä–µ–∂–¥—ë–Ω?</strong><br>–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∏ —Å–ª—É–∂–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –ú—ã –ø–æ–º–æ–∂–µ–º —Ä–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å.<br><br><strong>–ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–¥–ª–∏—Ç—å –∞—Ä–µ–Ω–¥—É?</strong><br>–î–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —á–µ—Ä–µ–∑ —á–∞—Ç –∏ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏.<br><br><strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏:</strong><br>üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 (747) 200-70-77<br>üìß Email: support@rentify.kz<br>üí¨ –û–Ω–ª–∞–π–Ω-—á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ<br>‚è∞ –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: 24/7 (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ)<br><br><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</strong><br>‚Ä¢ <a href="#" style="color:#0ea5e9;">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∞–π—Ç–æ–º</a><br>‚Ä¢ <a href="#" style="color:#0ea5e9;">–ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–¥–∞–≤–∞—Ç—å –≤–µ—â–∏</a><br>‚Ä¢ <a href="#" style="color:#0ea5e9;">–ü—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è —Å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º–∏</a>'
            }
        };

        window.openInfoModal = function(type, event) {
            if (event) event.preventDefault();
            
            const modal = document.getElementById('infoModal');
            const content = document.getElementById('infoModalContent');
            const info = infoContent[type];
            
            if (info) {
                content.innerHTML = `
                    <h2 style="margin-top:0; margin-bottom:1.5rem; color:#111; font-size:1.75rem;">${info.title}</h2>
                    <p style="color:#374151; line-height:1.8; font-size:1.05rem;">${info.text}</p>
                `;
                modal.style.display = 'block';
            }
        };

        document.getElementById('closeInfoModal').addEventListener('click', function() {
            document.getElementById('infoModal').style.display = 'none';
        });

        document.getElementById('infoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });

        // Interactive Steps Animation
        document.addEventListener('DOMContentLoaded', function() {
            const steps = document.querySelectorAll('.step');
            
            steps.forEach((step, index) => {
                step.addEventListener('click', function() {
                    // Remove active class from all steps
                    steps.forEach(s => {
                        s.classList.remove('active');
                        s.classList.add('inactive');
                    });
                    
                    // Add active class to clicked step
                    this.classList.remove('inactive');
                    this.classList.add('active');
                    
                    // Auto remove active state after 3 seconds
                    setTimeout(() => {
                        steps.forEach(s => {
                            s.classList.remove('active', 'inactive');
                        });
                    }, 3000);
                });
                
                // Touch support for mobile
                step.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    this.click();
                }, { passive: false });
            });
        });
    </script>
</body>
</html>

