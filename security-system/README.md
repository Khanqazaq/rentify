# üîê –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Rentify

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è 4-–º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –¥–æ–≤–µ—Ä–∏—è –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∞—Ä–µ–Ω–¥—ã.

### üì¶ –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

#### 1. **SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è** 
- –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ SMS
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –±–æ—Ç–æ–≤

#### 2. **Liveness-–ø—Ä–æ–≤–µ—Ä–∫–∞**
- AI-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∂–∏–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞
- –í–∏–¥–µ–æ-—Å–µ–ª—Ñ–∏ 3-5 —Å–µ–∫—É–Ω–¥
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ –ø–æ–¥–¥–µ–ª–æ–∫

#### 3. **ID-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏
- OCR –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ò–ò–ù
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å —Å–µ–ª—Ñ–∏

#### 4. **–†–µ–π—Ç–∏–Ω–≥ –∏ –æ—Ç–∑—ã–≤—ã**
- –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫ 0-5 –∑–≤–µ–∑–¥
- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- –ë–µ–π–¥–∂–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
security-system/
‚îú‚îÄ‚îÄ backend/                    # Node.js/Express Backend
‚îÇ   ‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ controllers/            # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã API
‚îÇ   ‚îú‚îÄ‚îÄ models/                 # Mongoose/Sequelize –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ routes/                 # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ middleware/             # Middleware (auth, validation)
‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ server.js               # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ components/             # React/Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ pages/                  # –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ styles/                 # CSS —Å—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils/                  # Frontend —É—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ database/                   # –°—Ö–µ–º—ã –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ mongodb/                # MongoDB —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ postgresql/             # PostgreSQL —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ migrations/             # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ architecture/           # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ guides/                 # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
‚îÇ
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Framework**: Node.js + Express.js
- **Database**: MongoDB (–æ—Å–Ω–æ–≤–Ω–∞—è) + PostgreSQL (–¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- **SMS**: Twilio / SMSC.ru / Firebase Auth
- **AI/ML**: 
  - Face++ (Liveness & Face Comparison)
  - Azure Face API
  - Hive AI
- **OCR**: 
  - REGULA Document Reader
  - SmartID KZ
  - Tesseract.js (fallback)
- **Auth**: JWT + bcrypt
- **Validation**: Joi / Yup
- **File Storage**: AWS S3 / Firebase Storage

### Frontend
- **Framework**: Vanilla JS (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—É—â–∏–º —Å–∞–π—Ç–æ–º)
- **Camera**: MediaDevices API (WebRTC)
- **UI**: Bootstrap 5 + Custom CSS
- **HTTP**: Fetch API / Axios
- **Validation**: Real-time form validation

### DevOps
- **Hosting**: 
  - VPS (Hetzner, DigitalOcean)
  - Cloud (AWS, Google Cloud)
- **SSL**: Let's Encrypt
- **CDN**: Cloudflare
- **CI/CD**: GitHub Actions

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Backend
cd backend
npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏ API
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# MongoDB
mongod --dbpath ./data/db

# PostgreSQL
psql -U postgres -f database/postgresql/schema.sql
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# Development
npm run dev

# Production
npm start
```

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

```html
<!-- –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ –≤–∞—à —Å–∞–π—Ç -->
<script src="/security-system/frontend/verification.js"></script>
<link rel="stylesheet" href="/security-system/frontend/styles/verification.css">
```

---

## üìä –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
[–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è]
    ‚Üì
[1. SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è] ‚Üí –ö–æ–¥ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    ‚Üì
[2. Liveness] ‚Üí –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ-—Å–µ–ª—Ñ–∏ ‚Üí AI –ø—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–≤–æ—Å—Ç–∏
    ‚Üì
[3. ID-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ] ‚Üí –§–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Üí OCR + Face match
    ‚Üì
[4. –ü—Ä–æ—Ñ–∏–ª—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω] ‚Üí –ë–µ–π–¥–∂–∏ ‚Üí –î–æ—Å—Ç—É–ø –∫ –∞—Ä–µ–Ω–¥–µ
    ‚Üì
[–°–¥–µ–ª–∫–∏] ‚Üí –û—Ç–∑—ã–≤—ã ‚Üí –†–µ–π—Ç–∏–Ω–≥ ‚Üí –£—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è ‚Üë
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- **SMS –∫–æ–¥—ã**: –•—Ä–∞–Ω—è—Ç—Å—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ (bcrypt) —Å TTL 5 –º–∏–Ω—É—Ç
- **–î–æ–∫—É–º–µ–Ω—Ç—ã**: –®–∏—Ñ—Ä—É—é—Ç—Å—è AES-256 + —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ S3 —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
- **–°–µ–ª—Ñ–∏**: –•–µ—à–∏—Ä—É—é—Ç—Å—è + —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
- **–ò–ò–ù**: –ú–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 4 –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ü–∏—Ñ—Ä—ã)
- **–ü–∞—Ä–æ–ª–∏**: bcrypt —Å cost factor 12

### API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Rate limiting**: 5 –ø–æ–ø—ã—Ç–æ–∫ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
- **CORS**: –¢–æ–ª—å–∫–æ —Å –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞
- **JWT**: Access token (15 –º–∏–Ω) + Refresh token (7 –¥–Ω–µ–π)
- **HTTPS**: –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- **Input validation**: Joi schemas –Ω–∞ –≤—Å–µ endpoints

### GDPR & Compliance

- –°–æ–≥–ª–∞—Å–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–æ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–æ –Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º

---

## üì° API Endpoints

### SMS Verification

```http
POST /api/sms/send
POST /api/sms/verify
GET  /api/sms/status/:userId
```

### Liveness Check

```http
POST /api/liveness/upload
GET  /api/liveness/status/:sessionId
POST /api/liveness/verify
```

### ID Verification

```http
POST /api/id/upload
POST /api/id/verify
GET  /api/id/status/:userId
```

### Rating & Reviews

```http
POST /api/reviews/create
GET  /api/reviews/:userId
GET  /api/ratings/user/:userId
PUT  /api/ratings/calculate/:userId
```

–ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/api/README.md](docs/api/README.md)

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å API —Å–µ—Ä–≤–∏—Å–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è)

| –°–µ—Ä–≤–∏—Å | –¢–∞—Ä–∏—Ñ | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-------|-----------|
| **Twilio SMS** | Pay as you go | ~$0.05 –∑–∞ SMS (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω) |
| **SMSC.ru** | –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ | ~3-5‚Ç∏ –∑–∞ SMS |
| **Face++** | Free tier | 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **Azure Face** | Pay as you go | $1 –∑–∞ 1000 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π |
| **REGULA** | Enterprise | –ü–æ –∑–∞–ø—Ä–æ—Å—É (~$0.10-0.50 –∑–∞ —Å–∫–∞–Ω) |
| **AWS S3** | Pay as you go | ~$0.023 –∑–∞ GB/–º–µ—Å—è—Ü |

**–ò—Ç–æ–≥–æ –Ω–∞ 100 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π/–º–µ—Å—è—Ü**: ~$20-30

---

## üé® UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ –¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π
- –í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ AI (false positives/negatives)
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –±—Ä–∞—É–∑–µ—Ä—ã

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# Unit —Ç–µ—Å—Ç—ã
npm test

# Integration —Ç–µ—Å—Ç—ã
npm run test:integration

# E2E —Ç–µ—Å—Ç—ã
npm run test:e2e
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Email**: security@rentify.kz
- **Telegram**: @rentify_security
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.rentify.kz/security

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã ¬© 2025 Rentify.kz

---

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

- **v1.0.0** (2025-01-28) - –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑
  - SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
  - Liveness –ø—Ä–æ–≤–µ—Ä–∫–∞
  - ID —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π Rentify –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—Ä–µ–Ω–¥—ã**
